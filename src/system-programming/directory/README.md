# qna

## q-01

리눅스에서 파일의 정보를 저장하고 있는 자료 구조는?

    1. inode
    2. anode
    3. fnode
    4. unode

## a-01

### 1. inode

    - 리눅스에서 파일은 파일명, inode, 데이터 블록으로 구성
    - 파일명
        - 사용자가 파일에 접글할 떄 사용하며 파일명과 관련된 inode가 있어야함
        - 유닉스에서 255바이트까지 사용 가능
        - 파일명과 디렉터리에 사용되는 알파벳은 대소문자 구분하며 '.'으로 시작시 숨김 파일로 간주
    - inode
        - 파일에 대한 정보를 저장하는 객체
        - 실제로 디스크에 저장
        - 커널의 입장에서 파일의 정보를 관리하는 자료 구조로 사용
        - 외부적으로는 번호로 표현
        - 내부적으로는 파일정보와 데이터 블록 위치로 저장
    - 데이터 블록
        - 실제로 데이터가 저장되는 하드 디스크 공간
        - 장치 파일은 데이터 블록을 사용하지 않고 inode에만 저장

## q-02

mkdir은 명령과 시스템 호출에서 같은 이름을 사용한다. man 명령으로 mkdir 시스템 호출을 보는 올바른 방법은?

    1. man mkdir
    2. man -s mkdir
    3. man -s 2 mkdir
    4. man -c 2 mkdir

## a-02

### 3. man -s 2 mkdir

    - 시스템 호출은 섹션 2번

## q-03

opendir() 함수가 디렉터리를 열고 리턴하는 디렉터리 스트림 객체의 이름은?

    1. dir
    2. drip
    3. dirent
    4. DIR

## a-03

### 4. DIR

    - opendir() 함수는 인자로 지정된 디렉터리를 열고 해당 디렉터리에 대한 디렉터리 스트림을 생성, 이 스트림의 포인터를 리턴
    - 디렉터리 열기에 성공했을 떄 리턴한 DIR 객체에는 열린 디렉터리의 정보가 있으며 dirent.h 의 typedef struct __dirsetream DIR 로 정의
    - 실패시 NULL 리턴

## q-04

디렉터리의 내용을 읽어서 해당 디렉터리에 있는 파일명을 출력하려고 한다. 디렉터리의 내용을 가져오는 함수는?

    1. opendir()
    2. telldir()
    3. readdir()
    4. seekdir()

## a-04

### 3. readdir()

    - readdir() 함수는 인자로 지정한 DIR 객체가 가리키는 디렉터리의 내용을 한 번에 하나씩 읽어 더이상 읽을 것이 없을 경우 NULL 리턴
    - 디렉터리에 있는 항목의 정보를 가리키는 dirent 구조체의 포인터를 리턴
    - dirent 구조체는 sys/dirent.h 파일에 정의
    -
        struct dirent {
            ino_t           d_ino;
            off_t           d_off;
            unsinged short  d_reclen;
            unsinged char   d_type;
            char            d_name[256];
        };

## q-05

디렉터리의 정보를 읽으면 디렉터리의 내용을 읽는 위치가 변경된다. 디렉터리의 특정 위치로 바로 이동할 때 사용하는 함수는?

    1. telldir()
    2. seekdir()
    3. readdir()
    4. godir()

## a-05

### 2. seekdir()

    - seekdir() 함수는 디렉터리 스티림에서 readdir() 함수가 다음 항목을 읽을 수 있는 위치로 오프셋을 이동

## q-06

mkdir() 함수를 사용해 디렉터리를 2개(dir1, dir2) 만들고, 이 중 dir1은 rmdir() 함수로 삭제하고 dir2는 rename() 함수를 사용해 hanbit으로 바꾸는 프로그램을 작성하시오.

## a-06

### ./dir_crud.c

## q-07

rmdir() 함수를 사용해 존재하지 않는 디렉터리르 삭제하려고 하면 어떤 오류 메시지가 출력되는지 확인하시오.

## a-07

### No such file or directory

## q-08

현재 디렉터리를 기억하고 있다가 다른 디렉터리로 이동해 작업한 후 원래 디렉터리로 돌아오도록 프로그램을 작성하시오.

## a-08

### ./move_dir.c

## q-09

[예제2-6]에는 getcwd() 함수가 오류를 리턴할 때 처리하는 코드가 없다. 오류가 발생할 경우 처리하는 코드를 추가해 예제를 작성하시오.

## a-09

### ./getcwd_error.c

## q-10

디렉터리가 비어 있는지 확인한 후 디렉터리가 비어 있다는 메시지를 출력하고 해당 디렉터리를 삭제하는 프로그램을 작성하시오.

## a-10

### ./isempty_dir.c

## q-11

디렉터리명을 명령행 인자로 입력받아 생성하고, 작업 디렉터리를 새로 생성한 디렉터리로 이동시키는 프로그램을 작성하시오.

## a-11

### ./move_dir_arg.c

## q-12

'.'과 '..'항목을 제외하고 디렉터리에 있는 파일이나 하위 디렉터리명을 출력하는 myls 프로그램을 적성하시오.

## a-12

### ./myls.c

## q-13

현재 디렉터리에 파일의 전체 목록을 출력한 후 seekdir()로 디렉터리 스트림의 위치를 바꿔서 세 번째 파일명을 바로 출력하는 프로그램을 작성하시오.

## a-13

### ./dir_offset_change.c

## q-14

파일명을 명령행 인자로 입력받고 이 파일이 현재 디렉터리에 있는지 확인하는 프로그램을 작성하시오.

## a-14

### ./search_dir.c

## q-15

파일명과 디렉터리 경로명을 명령행 인자로 입력받고 인자로 입력한 파일이 해당 디렉터리에 있는지 확인하는 프로그램을 작성하시오.

## a-15

### ./search_dir_path.c
