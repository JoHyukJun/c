# 02-compiler

## complier components

    - front end
        - lexical analyzer
            - 어휘 분석기
            - token
        - syntax analyzer
            - 구문 분석기
            - syntax tree
        - semantic analyzer
            - 의미 분석기
            - intermediate representation
    - back end
        - code generator
            - 코드 생성기
            - asseble code + optimization
        - assembler
            - 어셈블러
            - machine code

## 어희, 구문 분석

    - 문자열 형태로 존재하는 소스코드를 의미 있는 문자 혹은 문자열 조각(토큰)으로 변환(예약어, 상수, 변수, 연산자 등)
    - 각 토큰을 구문 트리(syntax tree)로 변환하며 이 과정에서 문법 오류 검출

## 추상 구문 트리

    - 특정 프로그래밍 언어로 작성된 프로그램 소스 코드를 각각 의미별로 분리하여 구조화

## 의미 분석 및 중간 표현(IR) 생성

    - 예약어 등 코드의 의미에 따라 더 필요한 정보를 유추하거나 분석
    - 자료형 검사 과정 표함
    - 항, 표현식, 구문 그리고 평가
    - 특정 언어에 종속되지 않는 중간언어로 변환해 기계어 생성 준비
    - 경우에 따라 다른 언어로 변환도 가능

## 코드 생성 및 최적화

    - IR로부터 어셈블리어 등 기계어에 대응될 수 있는 쉬운 명령어 연속으로 변환
    - 기계어 변환에 앞서 불필요한 코드를 제거하는 등 최적화 작업 실시
        - 불필요한 연산 제거
            - 변수에 대한 의존관계 분석
            - 불필요한 상수연산을 결과로 대체
            - 반복문 내부 불필요 코드 제거
        - 함수 호출이 필요 없도록 inline화
            - 언어 문법으로 존재하지만 보통은 컴파일러가 자동으로 처리

## 기계어로 변환

    - 어섬블리로 변환된 코드를 실제 CPU가 인식할 수 있는 기계어로 변환
    - 같은 어셈블리 코드를 x86, ARM 등 다양한 CPU에 맞춰 변환 가능
        - 실행 파일이란 CPU가 인식하고 정해진 연산을 수행할 수 있는 명령들의 연속된 유한 집합체
        - 기계는 연속된 명령어 집합에서 명령을 하나씩 가져와 연산
        - 명령의 연속된 연산이 곧 실행
